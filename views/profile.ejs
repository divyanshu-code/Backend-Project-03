<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="bg-zinc-900">
    <div class="text-white p-7 ml-3 mt-10">
        <div class="flex  justify-end ">
            <a class="bg-red-500 border-2 border-red-500 px-5 text-sm font-bold  text-white rounded-sm mr-30 py-2 "
                href="/logout">Logout</a>

        </div>

        <div class="flex gap-3">
          <a href="/profile/upload"><img class="w-10 h-10  rounded-md object-cover" src="/images/<%=  user.profilepic %>" ></a>  
            <h1 class="font-semibold text-3xl "> <span class="font-light">Hello</span> , <%= user.name%> ðŸ‘‹</h1>

        </div>
        <h1 class="font-light text-sm mt-3">You can create new post </h1>
    </div>

    <form action="/post" method="post">

        <textarea placeholder="what is in your mind ?"
            class="w-1/3 px-3 py-2 text-sm resize-none border-2 border-zinc-800 bg-transparent outline-none text-white rounded-sm ml-10 mb-2"
            name="content"></textarea>
        <input
            class="block border-2 cursor-pointer bg-blue-500 border-blue-500 px-5 text-sm font-bold  text-white rounded-sm  py-2 ml-10 "
            type="submit" name="submit" value="Create new post">
    </form>

    <h1 class="text-white p-7 ml-4 mt-10 text-sm font-bold "> <%= user.post.length > 0 ? "Your Post" : "" %></h1>

    <div class="ml-10 ">

        <% user.post.reverse().forEach(function(val){ %>

            <div class="border-[1px] mb-3 border-zinc-800  w-2/5 bg-zinc-800 rounded-sm h-32">
                <h2 class="text-blue-500 text-sm  p-2 font-bold">
                    <%= user.name %>
                </h2>
                <p class="text-sm text-white ml-2 tracking-tight font-bold"> <%= val.content %></p>
                <small class="text-sm font-light mt-5 inline-block text-white ml-2"><%= val.likes.length %> like </small>
                <div class=" ml-2 flex gap-5">
                    <a class="text-blue-500   font-bold" href="/like/<%= val._id %>">  <%= val.likes.length >0 ? "Unlike" : "Like" %></a>
                    <a class=" font-bold text-gray-600" href="/edit/<%= val._id %>">Edit</a>
                     <a class=" font-bold text-red-600"  href="/delete/<%= val._id %>"> Delete</a>
                </div>
            </div>

            <% }) %>
    </div>


</body>

</html>